<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Stunning Wealth Intelligence</title>
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="styles.css" />
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.3.0/dist/chart.umd.min.js" defer></script>
<script src="./config.sample.js" defer></script>
<script src="./config.local.js" defer></script>
<script src="./app.js" defer></script>
</head>
<body>
<button id="theme-toggle" class="theme-toggle" aria-label="Switch to light mode">
    <span class="theme-icon">&#9728;</span>
    <span class="sr-only">Toggle theme</span>
</button>

<div id="loading-overlay">
    <div class="spinner"></div>
    <div class="loading-text">Loading portfolio&hellip;</div>
</div>

<div class="wrap">
    <header>
        <div>
            <div class="pill">Realtime Wealth Overview &middot; <span>Connected</span></div>
            <h1>Wealth Intelligence Hub</h1>
            <p class="subtitle">Live holdings pulled directly from Airtable Operations and enriched with Finnhub market data. Track allocations, intraday moves, and long-term performance in one glass dashboard.</p>
        </div>
    </header>

    <div class="top-summary">
        <div class="kpi" id="pnl-card">
            <div style="flex:1">
                <div class="pnl-label-row">
                    <div class="label">Total P&amp;L</div>
                    <div id="pnl-range-controls" class="pnl-range-controls">
                        <button data-range="1D" class="active">1D</button>
                        <button data-range="1W">1W</button>
                        <button data-range="1M">1M</button>
                        <button data-range="1Y">1Y</button>
                        <button data-range="ALL">All</button>
                    </div>
                </div>
                <div class="big" id="total-pnl">$0.00</div>
                <small>Updated: <span id="last-updated">&mdash;</span> &middot; <span id="pnl-range-label">Daily</span></small>
            </div>
            <div style="width:220px;height:95px">
                <canvas id="sparkline" aria-label="pnl sparkline"></canvas>
            </div>
        </div>
        <div style="display:flex;flex-direction:column;gap:14px">
            <div class="kpi" style="min-height:120px">
                <div style="flex:1">
                    <div class="label">Net Worth</div>
                    <div class="big" id="equity">$0.00</div>
                    <small>Net contributions deployed to date</small>
                </div>
            </div>
            <div class="kpi" style="min-height:120px">
                <div style="flex:1">
                    <div class="label">Liquidity</div>
                    <div class="big" id="buying-power">$0.00</div>
                    <small>Cash &amp; cash-equivalents from Operations</small>
                </div>
            </div>
            <div class="kpi best-performer-card" id="best-performer-card">
                <div class="best-performer-header">
                    <div class="label">Best Performer</div>
                    <div class="best-performer-range" id="best-performer-range">Daily</div>
                </div>
                <div class="best-performer-name" id="best-performer-name">&mdash;</div>
                <div class="best-performer-metrics">
                    <span class="best-performer-pnl" id="best-performer-pnl">$0.00</span>
                    <span class="best-performer-change" id="best-performer-change">&mdash;</span>
                </div>
                <small class="best-performer-meta" id="best-performer-meta">Awaiting data&hellip;</small>
            </div>
        </div>
    </div>

    <div class="card full realestate-card">
        <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;position:relative;z-index:1">
            <div>
                <strong>Rental Portfolio Analytics</strong>
                <div class="pos" style="margin-top:4px">Real estate assets with recurring rent performance insight.</div>
            </div>
        </div>
        <div class="realestate-controls" id="realestate-rent-filters"></div>
        <div class="realestate-chart">
            <canvas id="realestateRentChart"></canvas>
        </div>
        <div class="realestate-list" id="realestate-stats">
            <div class="pos">Loading rental analytics&hellip;</div>
        </div>
    </div>

    <div class="card full analytics-card crypto-card">
        <div class="analytics-header">
            <div>
                <strong>Crypto Portfolio Analytics</strong>
                <div class="pos" style="margin-top:4px">Live exposure, performance, and allocation across digital assets.</div>
            </div>
            <div class="analytics-summary">
                <div class="metric">
                    <span class="label">Market Value</span>
                    <span class="value" id="crypto-market-value">$0.00</span>
                </div>
                <div class="metric">
                    <span class="label">Unrealized P&amp;L</span>
                    <span class="value" id="crypto-pnl">$0.00</span>
                </div>
                <div class="metric">
                    <span class="label">Portfolio Share</span>
                    <span class="value" id="crypto-allocation">?</span>
                </div>
            </div>
        </div>
        <div class="analytics-chart">
            <canvas id="cryptoPortfolioChart"></canvas>
        </div>
        <div class="analytics-list" id="crypto-positions">
            <div class="pos">Loading crypto analytics&hellip;</div>
        </div>
    </div>

    <div class="card full analytics-card stock-card">
        <div class="analytics-header">
            <div>
                <strong>Stocks Portfolio Analytics</strong>
                <div class="pos" style="margin-top:4px">Equity allocations, gains, and concentration across public markets.</div>
            </div>
            <div class="analytics-summary">
                <div class="metric">
                    <span class="label">Market Value</span>
                    <span class="value" id="stock-market-value">$0.00</span>
                </div>
                <div class="metric">
                    <span class="label">Unrealized P&amp;L</span>
                    <span class="value" id="stock-pnl">$0.00</span>
                </div>
                <div class="metric">
                    <span class="label">Portfolio Share</span>
                    <span class="value" id="stock-allocation">?</span>
                </div>
            </div>
        </div>
        <div class="analytics-chart">
            <canvas id="stockPortfolioChart"></canvas>
        </div>
        <div class="analytics-list" id="stock-positions">
            <div class="pos">Loading stock analytics&hellip;</div>
        </div>
    </div>

    <div class="card full asset-dynamic-card">
        <div class="analytics-header">
            <div>
                <strong>Asset Growth Over Years</strong>
                <div class="pos" style="margin-top:4px">Cumulative contributions by asset with a forward projection based on recent dynamics.</div>
            </div>
        </div>
        <div class="analytics-chart asset-dynamic-chart">
            <canvas id="assetDynamicChart"></canvas>
        </div>
    </div>

    <footer>
        <div><span class="status-dot"></span><span id="status">&nbsp;</span></div>
        <div>Powered by Airtable &middot; Finnhub &middot; Chart.js</div>
    </footer>
</div>
</body>
</html>
